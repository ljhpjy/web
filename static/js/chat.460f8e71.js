!function(){"use strict";var e,n,t,r,i,a,s={7973:function(e,n,t){t.d(n,{hY:function(){return i.Z},kM:function(){return d},dh:function(){return a.Z},Ee:function(){return s.C},sZ:function(){return r.Z}});var r=t(33153),i=t(81333),a=t(27160),s=t(7483),o=t(7535);t(33654);var u=t(38415),c=t(48069),l={deep:{icon:"icon-DeepseekOutlined",text:"深度思考"},knowledge:{icon:"icon-AIKnowledgeOutlined",text:"知识库"}},d=function(e){var n=e.className,t=l[e.type];return t?(0,o.jsxs)("label",{className:(0,c.cx)("relative pl-20 select-none align-middle inline text-primary text-14 items-center whitespace-nowrap",n),children:[(0,o.jsx)(u.Z,{type:t.icon,className:" absolute left-0 top-0 bottom-0 align-[0px] my-auto text-primary !text-16"}),t.text]}):null}},38415:function(e,n,t){t.d(n,{Q:function(){return a},Z:function(){return o}}),t(97127),t(28213),t(58032);var r=t(7535),i=t(53528),a=function(e){return"".concat(e/37.5,"rem")},s=(0,i.Z)({scriptUrl:Promise.resolve().then(t.t.bind(t,5656,23))});function o(e){var n=e.type,t=e.className,i=e.style,a=e.onClick;return(0,r.jsx)(s,{type:n,className:t,style:i,onClick:a})}},465:function(e,n,t){t.d(n,{$5:function(){return r},NO:function(){return o},PY:function(){return a},_n:function(){return s},mv:function(){return i},xS:function(){return u}});var r="COOKIE_DEVICE_ID",i="knowledge_info",a={AI_SEARCH:"AI_SEARCH",AI_IMG_SUMMARY:"AI_IMG_SUMMARY",AI_IMG_EXTRACT:"AI_IMG_EXTRACT",AI_IMG_TRANSLATE:"AI_IMG_TRANSLATE",AI_EXPLAIN:"AI_EXPLAIN",AI_TRANSLATE:"AI_TRANSLATE",AI_PPT:"AI_PPT"},s={test:"https://ai-api-test.dangbei.net/ai-search",pre:"https://ai-api.dangbei.net/ai-search",online:"https://ai-api.dangbei.net/ai-search",dev:"https://ai-api-test.dangbei.net/ai-search"},o="ACTIVE_CONVERSATION_STORE_KEY",u={model:"deepseek",modelList:[{icon:"https://ai-search-static.dangbei.net/2025/03/21/1902984234851766272.png",title:"DeepSeek-R1",value:"deepseek",option:[{disable:!1,title:"深度思考",value:"deep",selected:!1},{disable:!1,title:"联网搜索",value:"online",selected:!1}]}]}},72137:function(e,n,t){t.d(n,{$N:function(){return k},B9:function(){return h},DI:function(){return l},E4:function(){return g},O_:function(){return f},Pv:function(){return v},YQ:function(){return y},c8:function(){return d},f6:function(){return w},lA:function(){return b},ou:function(){return m},pc:function(){return x},xI:function(){return p}});var r=t(49674),i=t(53490),a=t(51897);t(9579),t(28213),t(58032);var s=t(33654),o=t(40921),u=t(46978);function c(e,n){var t=(0,s.useRef)(n);t.current=n,(0,s.useEffect)(function(){var n=function(e){return t.current(e)};return o.uY.on(e,n),function(){o.uY.off(e,n)}},[e])}function l(e){c("loginChange",(0,r._)(function(){return(0,a.Jh)(this,function(n){return[2,e()]})}))}function d(e){c("webClosed",(0,r._)(function(){return(0,a.Jh)(this,function(n){return[2,e()]})}))}function f(){var e=(0,i._)((0,s.useState)(),2),n=e[0],t=e[1],c=(0,i._)((0,s.useState)(!0),2),l=c[0],d=c[1],f=(0,s.useCallback)(function(){var e;d(!0),(0,u.Z)((e=(0,r._)(function(e){var n;return(0,a.Jh)(this,function(r){switch(r.label){case 0:return[4,(0,o.Wd)(!0)];case 1:return(n=r.sent())&&(t(n),e()),[2]}})}),function(n){return e.apply(this,arguments)}),{maxAttempts:30,interval:100}).finally(function(){d(!1)})},[]);return(0,s.useEffect)(function(){f()},[f]),{data:n,loading:l}}function x(e){c("requestUnFocus",e)}function p(e){c("keyboardOpen",e)}function h(e){c("keyboardClose",e)}function m(e){c("appStatus",function(n){"resumed"===n.state&&e()})}function y(e){c("closeDialog",(0,r._)(function(){return(0,a.Jh)(this,function(n){return[2,e()]})}))}function v(e){var n;c("onFlutterDialogChange",(n=(0,r._)(function(n){return(0,a.Jh)(this,function(t){return[2,e(n)]})}),function(e){return n.apply(this,arguments)}))}function g(e){var n;c("notifyTtsPlayEvent",(n=(0,r._)(function(n){return(0,a.Jh)(this,function(t){return[2,e(n)]})}),function(e){return n.apply(this,arguments)}))}function k(e){var n;c("notifyAddFilesStatus",(n=(0,r._)(function(n){return(0,a.Jh)(this,function(t){return[2,e(n)]})}),function(e){return n.apply(this,arguments)}))}function b(e){var n;c("notifyAsrResult",(n=(0,r._)(function(n){return(0,a.Jh)(this,function(t){return[2,e(n)]})}),function(e){return n.apply(this,arguments)}))}function w(e){var n=e.defaultState,t=e.key,r=(0,i._)((0,s.useState)(),2),a=r[0],u=r[1];(0,s.useEffect)(function(){a&&o.ZP.setStorage(t,{value:a})},[a]);var c=function(){o.ZP.getStorage(t).then(function(e){var t;u(null!=(t=null==e?void 0:e.value)?t:n)})};return(0,s.useLayoutEffect)(c,[]),m(c),[a,u]}},35770:function(e,n,t){t.d(n,{$d:function(){return a.$},DM:function(){return i.D},P2:function(){return s.P},QB:function(){return d.Q},TA:function(){return u.T},VP:function(){return r.V},dz:function(){return o.d},yG:function(){return c.y},yU:function(){return f.y},zp:function(){return l.z}}),t(48227);var r=t(4673),i=t(53402);t(10400),t(53819);var a=t(677),s=t(29354),o=t(26613),u=t(44090),c=t(73618);t(7357);var l=t(13735);t(60578);var d=t(89864),f=t(59070)},48227:function(e,n,t){t.d(n,{R:function(){return v}});var r=t(49674),i=t(779),a=t(82616),s=t(53490),o=t(55526),u=t(51897);t(684),t(70986),t(34088),t(18677),t(51016),t(26601),t(9426),t(93355),t(33262),t(48435),t(91216),t(26409),t(31740),t(62687),t(29957),t(24679),t(46575),t(81273),t(58032),t(4067),t(43268),t(81144),t(16825),t(28572),t(60833),t(14438),t(46395),t(18566),t(60515),t(19553);var c=t(33654),l=t(72407),d=t(55827),f=t(14333),x=t(49932),p=t(21730),h=t(48069),m=t(53402),y=t(26613),v=function(e,n){var t,v=(0,s._)((0,c.useState)(!1),2),g=v[0],k=v[1],b=(0,y.d)(n),w=(0,c.useRef)(new Map),_=(0,c.useRef)(void 0),S=(0,c.useRef)(function(){}),j=(0,c.useCallback)((t=(0,r._)(function(n,t){var r,a,s,o,c,d,f,m,y,v,g,j,A,I,N,C,E,T,O,M,P,R,D,q,J,B,Z,L,V,G,F,U,z,H,K,W,Y,Q,$,X,ee,en,et;return(0,u.Jh)(this,function(u){switch(u.label){case 0:r=n.message,a=t.onSuccess,s=t.onUpdate,t.onError,d=null!=(c=null==r?void 0:r.content)?c:{},f=(0,p.x0)(6),m=!1,y={role:"ai",pid:null==r?void 0:r.uuid,uuid:(0,p.x0)(6),status:"loading",isDeep:null==(o=d.userAction)?void 0:o.includes("deep"),question:d.question,content:""},v={role:"suggestion",pid:null==r?void 0:r.uuid,uuid:(0,p.x0)(6),content:[]},g={role:"ai",uuid:f,content:[y]},j=function(){var e;m&&(v.status="success"),(null==(e=v.content)?void 0:e.length)||2!=g.content.length||g.content.splice(1,1),y.deepThinking&&(y.deepThinking.loading=!1,y.deepThinking.content||(y.deepThinking=void 0)),y.networkContent&&(y.networkContent.loading=!1,y.networkContent.dataSource?y.networkContent.dataSource.status=2:y.networkContent=void 0),"success"!==y.status&&(y.status="success"),a(g)},u.label=1;case 1:if(u.trys.push([1,8,,9]),k(!0),A=new AbortController,I=b(),S.current=function(){A.abort()},N=(0,i._)({},e,d),!(null==I?void 0:I.beforeSubmit))return[3,3];return[4,null==I?void 0:I.beforeSubmit(N)];case 2:E=null!=(C=u.sent())?C:{},N=(0,i._)({},N,E),u.label=3;case 3:return[4,(0,x.VA)({body:N,parseAs:"stream",signal:A.signal})];case 4:if(O=(T=u.sent()).response,M=T.error,200!==O.status)throw Error(null==M?void 0:M.errMessage);P=(0,l.Z)({readableStream:O.body}).getReader(),S.current=function(){A.abort(),y.content||(y.isMessageEmpty=!0,y.content="本次回答已被中止"),null==P||P.cancel()},R=function(e,n){y.msgId=e,(null==r?void 0:r.uuid)&&w.current.set(null==r?void 0:r.uuid,n)},D=function(e,n){if(y.networkContent||(y.networkContent={}),"progress"===e){y.networkContent.loading=!0,y.networkContent.title=n,y.status="updating";return}if("card"===e){var t=JSON.parse(n);y.networkContent.dataSource=t.cardInfo,y.networkContent.cardType=t.cardType,y.networkContent.loading&&t.cardInfo&&(clearTimeout(_.current),_.current=setTimeout(function(){y.networkContent&&(y.networkContent.loading=!1)},1e3))}},q=function(e){y.deepThinking||(y.deepThinking={content:"",loading:!0}),y.deepThinking.content+=null!=e?e:""},J=function(e){y.content+=e,y.networkContent&&y.networkContent.loading&&(y.networkContent.loading=!1,y.networkContent.dataSource||(y.networkContent=void 0)),y.deepThinking&&(y.deepThinking.loading=!1),"loading"===y.status&&(y.status="updating")},B=function(e){y.content+=e,"loading"===y.status&&(y.status="updating")},Z=function(e,n){if("follow_up"===e){var t;null==(t=v.content)||t.push(n),!m&&(m=!0,v.status||g.content.push(v))}},u.label=5;case 5:if(!P)return[3,7];return[4,P.read()];case 6:V=(L=u.sent()).value,G=L.done;try{if(U=(F=null!=V?V:{}).data,z=F.event,K=(H=(0,h.Vx)(U)?JSON.parse(U):{}).type,W=H.content,Y=H.content_type,G)return null==I||null==(Q=I.onChatCompleted)||Q.call(I,N.conversationId),j(),[3,7];switch(z){case"conversation.message.delta":y.msgId||R(H.id,H.parentMsgId),"answer"===K&&("progress"===Y||"card"===Y)&&D(Y,W),"answer"===K&&"thinking"===Y&&q(W),"answer"===K&&"text"===Y&&J(W);break;case"conversation.followup.loading":v.status="loading",g.content.push(v);break;case"conversation.chat.failed":"answer"===K&&"text"===Y&&B(W);break;case"conversation.message.completed":Z(K,W);break;case"conversation.chat.completed":null==I||null==($=I.onChatCompleted)||$.call(I,N.conversationId)}s(g)}catch(e){throw Error(e)}return[3,5];case 7:return k(!1),[3,9];case 8:if(X=u.sent(),k(!1),ee=X,y.content||(y.isMessageEmpty=!0),"AbortError"===ee.name)return y.content="本次回答已被中止",j(),[2];if("TypeError"===ee.name&&("Failed to fetch"===ee.message||"network error"===ee.message)){if(y.status="success",(null==y||null==(en=y.deepThinking)?void 0:en.content)||(null==y||null==(et=y.networkContent)?void 0:et.dataSource)||(null==y?void 0:y.content))return j(),[2];return y.content=navigator.onLine?"服务器繁忙，请稍后再试！":"当前你的网络不稳定",j(),[2]}throw"Error"===ee.name&&(y.content=ee.message,y.status="success",j()),ee;case 9:return[2]}})}),function(e,n){return t.apply(this,arguments)}),[]),A=(0,s._)((0,d.Z)({request:j}),1)[0],I=(0,f.Z)({agent:A,requestPlaceholder:{role:"ai",content:"Waiting...",status:"loading"},requestFallback:function(e,n){return n.error,{role:"error",content:"服务器繁忙，请稍后再试！"}},parser:function(e){return((Array.isArray(e.content)?e.content:[e])||[]).map(function(e){return(0,a._)((0,i._)({},e),{content:e.content})})}}),N=I.onRequest,C=I.messages,E=I.parsedMessages,T=I.setMessages,O=(0,y.d)(C),M=(0,c.useDeferredValue)(E),P=(0,c.useCallback)(function(e){var n=O(),t=n.findIndex(function(n){return(Array.isArray(n.message.content)?n.message.content[0]:n.message).uuid===e});-1!==t&&(n.splice(t,1),T((0,o._)(n)))},[]),R=(0,m.D)(P);return(0,c.useEffect)(function(){return function(){return S.current()}},[]),{loading:g,setLoading:k,onRequest:N,messages:C,questionIdsMap:w,setMessages:T,parsedMessages:M,onCancelReply:function(){return S.current()},onChatSubmit:function(e){N(e)},onRemoveChatHistory:R}}},89864:function(e,n,t){t.d(n,{Q:function(){return l}});var r=t(49674),i=t(53490),a=t(51897),s=t(33654),o=t(48069),u=t(465),c=t(40921),l=function(e){var n,t,l=(0,i._)((0,s.useState)([]),2),d=l[0],f=l[1],x=(0,s.useRef)(),p=(0,s.useRef)(null),h=(n=(0,r._)(function(){var n,t,r;return(0,a.Jh)(this,function(i){switch(i.label){case 0:if(!e)return[2];return[4,c.ZP.getStorage(u.mv)];case 1:if(!(null==(t=i.sent())||null==(n=t.knowledge_info)?void 0:n.length))return[2];return f(r=t.knowledge_info),x.current=(0,o.Vp)(r),[2]}})}),function(){return n.apply(this,arguments)}),m=(t=(0,r._)(function(){return(0,a.Jh)(this,function(n){switch(n.label){case 0:if(!(!x.current&&e))return[3,2];return[4,p.current];case 1:n.sent(),n.label=2;case 2:return[2,x.current]}})}),function(){return t.apply(this,arguments)});return(0,s.useEffect)(function(){p.current||(p.current=h())},[]),{originalFiles:d,getChatInitFiles:m}}},59070:function(e,n,t){t.d(n,{y:function(){return i}});var r=t(33654),i=function(e,n){(0,r.useEffect)(function(){var t="function"==typeof e?e():e&&"current"in e?e.current:e;if(t&&n){var r=new ResizeObserver(n);return r.observe(t),function(){r.disconnect()}}},[])}},60578:function(e,n,t){t.d(n,{l:function(){return x}});var r=t(49674),i=t(779),a=t(53490),s=t(51897);t(16825),t(28572);var o=t(7535),u=t(33654),c=t(40921),l=t(73618),d=t(48821),f=t(49932),x=function(){var e,n,t=(0,a._)((0,u.useState)(!1),2),x=t[0],p=t[1],h=(0,a._)((0,u.useState)(),2),m=h[0],y=h[1],v=(0,u.useRef)(function(){}),g=(0,l.y)(c.ZP.getWsId);return{switchSpeech:(e=(0,r._)(function(e){var n;return(0,s.Jh)(this,function(t){switch(t.label){case 0:return[4,c.ZP.getTtsPlayStatus()];case 1:var a;if((null==(n=t.sent())?void 0:n.isPlaying)&&(null==n?void 0:n.msgId)===e.msgId)return c.ZP.onInterruptTts(),y(void 0),[2];return v.current(),a=(0,r._)(function(){var n,t;return(0,s.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),p(!0),y(e.msgId),n=new AbortController,c.ZP.onInterruptTts(),v.current=function(){g.stopPolling(),n.abort()},[4,g.startPolling()];case 1:if(!(t=r.sent()))throw Error("wsId is null");return[4,(0,f.Sd)({body:(0,i._)({wsId:t},e),signal:n.signal})];case 2:return r.sent().data.success,p(!1),[2,!0];case 3:return r.sent(),p(!1),[2,!1];case 4:return[2]}})}),[4,function(){return a.apply(this,arguments)}()];case 2:return t.sent()||d.ZP.error((0,o.jsx)("span",{className:"text-14",children:"语音播报生成失败！"})),[2]}})}),function(n){return e.apply(this,arguments)}),stopSpeech:(n=(0,r._)(function(){var e;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,c.ZP.getTtsPlayStatus()];case 1:return(null==(e=n.sent())?void 0:e.isPlaying)&&c.ZP.onInterruptTts(),[2]}})}),function(){return n.apply(this,arguments)}),speechMessageId:m,speechLoading:x}}},61303:function(e,n,t){var r=t(7535),i=t(33654),a=t(70332),s=t(3092),o=t(49674),u=t(779),c=t(82616),l=t(53490),d=t(51897);t(46395),t(18566),t(60515),t(16825),t(41046),t(83718),t(45718),t(71030),t(58032),t(81164),t(31256),t(53034),t(4067),t(43268),t(1568),t(97127),t(75045);var f=t(86998);t(60833),t(14438);var x=t(48069),p=t(21730),h=t(49932),m=function(e){var n=e.reverse();return n.map(function(e,t){var r=e.role,i=e.msgId,a=e.question,s=e.ext,o=e.chatId,u=e.content,c=e.files,l={role:"user"===r?"user":"ai",msgId:i,uuid:(0,p.x0)(6),typing:!1,question:a,isDeep:null==s?void 0:s.isDeep,content:null!=u?u:"",status:"success"};if("user"===r){l.uuid=o;var d={question:null!=u?u:""};if((null==s?void 0:s.chatCmd)&&(0,x.Vx)(null==s?void 0:s.chatCmd)){var f=JSON.parse(null==s?void 0:s.chatCmd)||{};d.userAction=f.userAction,d.chatOption=f.chatOption}Array.isArray(c)&&c.length>0&&(d.files=c),l.content=d}if("assistant"===r){if(null==s?void 0:s.searchReferences){var h,m,y=JSON.parse(s.searchReferences),v=y.cardInfo,g=y.cardType,k=y.shortTitle,b=v.cardItems.find(function(e){return"2002"===e.type||"2003"===e.type});h={dataSource:v,loading:!1,title:null!=k?k:null==b?void 0:b.name,cardType:g}}if((null==s?void 0:s.thinking)&&(m={loading:!1,content:null==s?void 0:s.thinking}),l.content=[{role:"ai",content:null!=u?u:"",msgId:i,pid:o,uuid:(0,p.x0)(6),question:a,networkContent:h,deepThinking:m,isDeep:null==s?void 0:s.isDeep,isMessageEmpty:!u,status:"success"}],(null==s?void 0:s.followUp)&&t===n.length-1){var w=JSON.parse(s.followUp);w.length&&l.content.push({role:"suggestion",content:w,uuid:(0,p.x0)(6)})}}return{id:e.msgId,message:l,status:"success"}})},y=function(){var e,n=(0,l._)((0,i.useState)(!1),2),t=n[0],r=n[1],a=(0,i.useRef)(function(){});return{isLoading:t,onInitialMount:(0,i.useCallback)((e=(0,o._)(function(e,n){var t,i,s,o,u,c,l;return(0,d.Jh)(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),t=new AbortController,a.current=function(){t.abort()},r(!0),[4,(0,h.uo)({body:{conversationId:e,order:"desc",limit:40},signal:t.signal})];case 1:return u=(o=null!=(s=null==(i=d.sent().data)?void 0:i.data)?s:{}).msgList,c=o.conversationTitle,l=m(null!=u?u:[]),null==n||n(l,c),r(!1),[3,3];case 2:return d.sent(),r(!1),[3,3];case 3:return[2]}})}),function(n,t){return e.apply(this,arguments)}),[])}},v=t(35770),g=t(72137),k=t(83964),b=t(7093),w=t(6408),_=t(44057);t(95817),t(81273),t(17123),t(27153);var S=t(41394),j=t(29255),A=t(54038),I=t(62082),N={position:"initial"},C=t(85841),E=t(70124);t(22729),t(41910),t(14486),t(56380),t(80974),t(28567),t(45554),t(19553),t(44411),t(59295);var T=t(11983),O=t(38415);function M(e){return(0,r.jsx)(E.qE,{src:e.src,className:"".concat(e.className," !bg-[#d8d8d8]  overflow-hidden  border-1 !border-black/12 border-solid "),fallback:e.icon})}M.Group=function(e){return(0,r.jsx)("div",{className:"flex  ml-8 ",children:e.children})};var P=t(64705);t(98565),t(45612);var R=function(e){var n=e.className,t=e.title,a=e.author,s=e.avatar,o=e.index,l=(0,_._)(e,["className","title","author","avatar","index"]),d=(0,i.useRef)(null);return(0,r.jsxs)("div",{className:(0,x.cx)("carousel-sider-item !w-[240px] box-border flex flex-col text-12 rounded-12 bg-white py-12 px-12 border cursor-pointer border-black/[0.15]",n),onClick:function(){var e;return null==(e=d.current)?void 0:e.click()},children:[(0,r.jsx)("a",(0,c._)((0,u._)({},l),{ref:d,className:"opacity-0 w-0 h-0 absolute -z-1"})),(0,r.jsx)("div",{className:"flex-auto text-12 text-black/[0.88] line-clamp-2",children:t}),(0,r.jsxs)("div",{className:"flex-shrink-0 flex items-center text-10 text-black/[0.45] space-x-4 mt-12 min-h-18",children:[(0,r.jsx)(M,{className:"!w-16 !h-16  !rounded-full",src:s||null,icon:(0,r.jsx)(O.Z,{type:"icon-AiFindOutlined"})}),(0,r.jsx)("span",{className:"inline-block flex-auto truncate",children:a}),(0,r.jsx)("span",{className:"flex-none bg-black/[0.06] !h-16 !w-16 rounded-[50%] inline-flex font-medium items-center text-center justify-center",children:(void 0===o?0:o)+1})]})]})},D=function(e){var n=e.className,t=e.contentClassName,i=e.style,a=e.items;return(0,r.jsx)("div",{className:(0,x.cx)("relative select-none",n),style:i,children:(0,r.jsx)(P.tq,{simulateTouch:!1,mousewheel:!0,slidesPerGroup:1,slidesPerView:"auto",className:"swiper-wrap ",children:a.map(function(e,n){return(0,r.jsx)(P.o5,{className:(0,x.cx)("carousel-sider !max-w-[100%] !w-auto pr-8 last:pr-16"),children:(0,r.jsx)(R,(0,u._)({index:n,className:(0,x.cx)(e.className,t)},e))},n)})})})},q=t(7973),J=t(36741),B={2003:"icon-AIKnowledgeOutlined",2001:"icon-CheckCircleOutlined"},Z=function(e){var n,t=e.className,i=e.title,a=e.type;if(!i)return null;var s=null!=(n=B[a])?n:B["2001"];return(0,r.jsxs)("div",{className:(0,x.cx)("flex items-center space-x-4 leading-[22px]",t),children:[(0,r.jsx)(O.Z,{type:s,className:"text-18 h-16 leading-4"}),(0,r.jsx)("span",{className:"min-w-max text-black/[0.88] font-medium text-14",children:i})]})},L=function(e){var n=e.items,t=e.className,i=e.style;return(0,r.jsx)("div",{className:(0,x.cx)("flex space-x-8 flex-wrap items-center self-stretch last:pr-16",t),style:i,children:(void 0===n?[]:n).map(function(e){return(0,r.jsx)("div",{className:"flex flex-col justify-center items-start text-12 text-black/[0.88] rounded-8 px-8 py-4 bg-black/[0.06]",children:e},e)})})},V=function(e){var n=e.className,t=e.title,i=e.children,a=e.type;return(0,r.jsxs)("div",{className:(0,x.cx)("cursor-auto",n),children:[(0,r.jsx)(Z,{className:"py-8",title:t,type:a}),(0,r.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:i})]})},G=function(e){var n=e.className,t=e.style,a=e.title,s=e.records,o=(0,l._)((0,i.useState)(!1),2),c=o[0],d=o[1],f=(0,i.useRef)(!1),p=(0,i.useMemo)(function(){var e;return(null!=(e=null==s?void 0:s.cardItems)?e:[]).reduce(function(e,n){return n.content&&(0,x.Vx)(n.content)&&(n.content=JSON.parse(n.content)),e.push(n),e},[])},[null==s?void 0:s.cardItems]),h=(0,i.useMemo)(function(){var e,n=null==(e=p.find(function(e){return"2002"===e.type}))?void 0:e.content;return null!=n?n:[]},[p]),m=p.find(function(e){return"2003"===e.type});return(0,r.jsxs)(T.E.div,{className:(0,x.cx)("overflow-hidden max-w-100% px-16 py-8 bg-black/[0.04] w-full box-border  self-baseline ",n,{}),style:(0,u._)({overflowAnchor:"auto",display:"block"},t),onClick:function(){f.current=!0,d(!c)},initial:{height:(0,O.Q)(38),borderRadius:(0,O.Q)(16),width:"fit-content",maxWidth:"100%"},animate:{height:c?"auto":f.current?[(0,O.Q)(110),(0,O.Q)(38)]:(0,O.Q)(38),width:c?"100%":["fit-content"]},transition:{borderRadius:{duration:.3,cubicBezier:[.4,0,.1,1]},height:{duration:.3,cubicBezier:[.4,0,.1,1]},width:{duration:.3,cubicBezier:[.4,0,.1,1]}},children:[(0,r.jsxs)("div",{className:(0,x.cx)("relative flex items-center"),children:[c?(0,r.jsx)(Z,{className:"select-none flex-auto",title:null==s?void 0:s.initTitle}):(0,r.jsxs)("div",{className:"select-none flex items-center space-x-4 max-w-full",children:[(0,r.jsx)(O.Z,{type:m?"icon-AIKnowledgeOutlined":"icon-AiSearchOutlined",className:"text-18"}),(0,r.jsxs)("div",{className:"inline-flex items-center space-x-8 text-14 text-black/[0.86] text-nowrap flex-1 truncate",children:[(0,r.jsx)("div",{className:"font-medium truncate whitespace-nowrap flex-1",children:a}),(0,r.jsx)(M.Group,{children:h.filter(function(e,n,t){return e.thumbnailUrl&&""!==e.thumbnailUrl&&n===t.findIndex(function(n){return n.thumbnailUrl===e.thumbnailUrl})}).slice(0,5*!m).map(function(e){return(0,r.jsx)(M,{className:"-ml-8 !w-20 !h-20 !rounded-full ",src:e.thumbnailUrl||null,icon:(0,r.jsx)(O.Z,{type:"icon-AiFindOutlined"})},e.url)})})]}),(0,r.jsx)(O.Z,{type:"icon-DownOutlined",className:"flex  text-16 ml-12 text-black/60"})]}),c&&(0,r.jsx)(O.Z,{type:"icon-UpOutlined",className:"absolute top-1/2 -translate-y-1/2 right-0 text-16 text-black/60"})]}),(0,r.jsx)(T.E.div,{className:(0,x.cx)("py-8 w-full ",{hidden:!c,block:c}),initial:{opacity:0},animate:{opacity:+!!c},transition:{opacity:{duration:.5,cubicBezier:[.4,0,.1,1]}},children:p.map(function(e){if("2001"===e.type&&(n=n=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"pl-20",children:(0,r.jsx)(q.dh,{children:(0,r.jsx)(L,{items:e.content})})})})),"2003"===e.type&&(n=n=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"pl-20",children:(0,r.jsx)(q.dh,{children:(0,r.jsx)("div",{className:"space-x-8  flex pr-16",children:null==(t=e.content)?void 0:t.map(function(e){var n=e.docType,t=[J.iv[n],(0,x.A5)(e.docSize,1),e.wordNum&&(0,x.CJ)(e.wordNum)].filter(Boolean).join("\xb7");return(0,r.jsx)(q.sZ,{type:n,title:e.docName,description:t},e.docId.toString())})})})})})),"2002"===e.type){var n,t,i=e.content.map(function(e){return{href:e.url,target:"_blank",title:e.snippet,author:e.siteName,avatar:e.thumbnailUrl,rel:"noreferrer noopener"}});n=(0,r.jsx)(D,{className:"w-full pl-20 box-border",items:i})}return(0,r.jsx)(V,{type:e.type,className:"-mx-16 pl-16 mt-8",title:e.name,children:n},e.name)})})]})},F=i.memo(function(e){var n=e.cardTyle,t=e.loading,a=e.title,s=e.data,o=e.onTyping;return((0,i.useEffect)(function(){null==o||o()},[t]),t)?(0,r.jsxs)(E.T,{align:"center",children:[(0,r.jsx)(I.Z,{}),(0,r.jsx)("span",{className:"text-14 text-black/[0.88] fade-in",children:a})]}):"DB-CARD-3"===(void 0===n?"DB-CARD-2":n)?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(G,{title:a,records:s})}),U=t(55021),z=t(60046),H=t(40822),K=function(e){var n=e.title;return(0,r.jsxs)("div",{className:"flex items-center flex-nowrap space-x-4 !whitespace-nowrap !min-h-20 !text-black/[0.86] ",children:[(0,r.jsx)(O.Z,{type:"icon-DeepseekOutlined",className:"text-18"}),(0,r.jsx)("article",{children:n})]})},W=[H.WV,H.BW],Y=function(e){var n=e.content,t=e.loading,a=e.status,s=e.onTyping,o=(0,l._)((0,i.useState)(""),2);o[0],o[1];var u=(0,i.useRef)(0),c=(0,i.useRef)(!1),d=(0,i.useRef)(),f=(0,i.useRef)(""),p=(0,l._)((0,i.useState)(0),2)[1];return(0,i.useEffect)(function(){if(!t){clearTimeout(d.current),f.current=n,p(1e4*Math.random()),null==s||s();return}var e=n.length-u.current>20,r=function(e){c.current=!0,d.current=setTimeout(function(){var n=e[u.current];if(f.current+=n,u.current+=1,p(1e4*Math.random()),null==s||s(),e.length-u.current<20){c.current=!1,clearTimeout(d.current);return}r(e)},20)};e&&!c.current&&r(n)},[n,a,t]),(0,r.jsxs)("div",{className:(0,x.cx)("deep-thinking-container"),children:[!f.current&&(0,r.jsx)(I.Z,{}),(0,r.jsx)(U.Z,{className:"deep-thinking-markdown",remarkPlugins:W,children:"".concat(f.current," ").concat(f.current&&t&&"success"!==a?"{{end_dot}}":"")})]})},Q=i.memo(function(e){var n=e.status,t=e.className,a=e.style,s=e.loading,o=e.content,u=e.onTyping,c=(0,l._)((0,i.useState)(["root"]),2),d=c[0],f=c[1],p=d.length>0,h=(0,i.useRef)(null);return(0,r.jsx)(z.E.div,{ref:h,className:(0,x.cx)("inline-block overflow-hidden min-w-[120px] max-w-full w-fit self-baseline",t,{"w-full":p}),style:a,animate:{width:p?"100%":"auto"},transition:{duration:.1,ease:"linear"},children:(0,r.jsx)(E.UO,{className:(0,x.cx)("deep-thinking-collapse",{"is-active":p}),activeKey:d,onChange:function(e){f(e)},children:(0,r.jsx)(E.UO.Panel,{className:"deep-thinking-collapse-panel",title:(0,r.jsx)(K,{title:s?"深度思考中...":"已深度思考"}),arrow:function(e){return(0,r.jsx)(O.Z,{type:"icon-DownOutlined",className:(0,x.cx)("flex !text-16 text-black/60",{"rotate-180":e})})},children:(0,r.jsx)("div",{style:{display:p?"block":"none"},children:(0,r.jsx)(Y,{status:n,content:o,loading:s,onTyping:u})})},"root")})})}),$=function(e){var n=e.networkContent,t=e.deepThinking,i=e.status,a=e.onTyping;return(0,r.jsxs)("div",{className:"flex flex-col space-y-16 w-full",children:[n&&(0,r.jsx)(F,{loading:null==n?void 0:n.loading,cardTyle:null==n?void 0:n.cardType,title:null==n?void 0:n.title,data:null==n?void 0:n.dataSource,onTyping:a}),t&&(0,r.jsx)(Q,{status:i,loading:null==t?void 0:t.loading,content:null==t?void 0:t.content,onTyping:a})]})},X=t(50037);t(60617);var ee=i.memo(function(e){var n=e.className,t=e.content,a=e.onLongPress,s=(0,_._)(e,["className","content","onLongPress"]),o=(0,i.useRef)(),l=(0,c._)((0,u._)({},s),{role:"user",content:t.question}),d=(0,v.dz)(l);(0,v.TA)(o,!1,function(){null==a||a(d)});var f=(0,i.useMemo)(function(){var e,n,r=t.files;return Array.isArray(r)&&r.length>0&&r.some(function(e){var n;return(null==(n=e.fileId)?void 0:n.startsWith("doc-"))||"-1"===e.fileId})||(null==t||null==(e=t.chatOption)?void 0:e.searchKnowledge)?"knowledge":(null==(n=t.userAction)?void 0:n.includes("deep"))?"deep":void 0},[t.userAction,t.files]);return(0,r.jsx)("div",{ref:o,className:(0,x.cx)("flex flex-col space-y-12 items-end select-none",n),children:(0,r.jsxs)("div",{className:"leading-24 text-14 bg-black/[0.06] rounded-12 px-16 py-8 text-black/[0.86] break-all whitespace-normal",children:[(0,r.jsx)(q.kM,{type:f,className:"text-primary mr-8 "}),(0,r.jsx)("span",{className:"align-middle break-all whitespace-normal",children:t.question})]})})}),en=t(55526),et=t(16113),er=function(e){var n=e.question,t=e.files,a=e.chatOption,s=e.onAgainGenerate,o=(0,i.useCallback)(function(){null==s||s({question:n,chatOption:a,files:t})},[s]);return(0,r.jsx)(E.zx,{fill:"outline",size:"mini",className:"action-button",onClick:o,children:(0,r.jsx)(O.Z,{type:"icon-SyncOutlined",className:"!text-20"})})},ei=(0,i.memo)(function(e){var n=e.disabled,t=e.content,a=(0,l._)((0,i.useState)(!1),2),s=a[0],o=a[1],u=(0,i.useMemo)(function(){return!t},[t]),c=(0,v.VP)();return(0,r.jsx)(E.zx,{fill:"outline",size:"mini",disabled:n||u||s,className:"action-button",onClick:function(){o(!0),c(t,!0,function(){setTimeout(function(){o(!1)},1e3)})},children:(0,r.jsx)(O.Z,{type:s?"icon-CheckOutlined":"icon-CopyOutlined",className:"!text-20"})})}),ea=i.memo(function(e){var n=e.onShare;return(0,r.jsxs)(E.zx,{fill:"outline",size:"mini",className:"action-button",onClick:n,children:[(0,r.jsx)(O.Z,{type:"icon-ShareOutlined",className:"!text-20"}),(0,r.jsx)("span",{className:"ml-4",children:"分享"})]})}),es=t(68753),eo=JSON.parse('{"v":"5.12.2","fr":30,"ip":0,"op":91,"w":48,"h":48,"nm":"PlayingOutlined-W","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"矩形 85","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[42,24,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":1,"k":[{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":0,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":9,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":18,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":27,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":36,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":45,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":54,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":63,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":72,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":81,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":90,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":99,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":108,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":117,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":126,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":135,"s":[2,12],"e":[2,6]},{"t":144}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":90,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 85","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"矩形 86","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[30,24,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":1,"k":[{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":0,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":15,"s":[2,20],"e":[2,8]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":30,"s":[2,8],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":45,"s":[2,20],"e":[2,8]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":60,"s":[2,8],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":75,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":90,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":105,"s":[2,20],"e":[2,8]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":119,"s":[2,8],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":135,"s":[2,20],"e":[2,8]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":150,"s":[2,8],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":162,"s":[2,20],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":165,"s":[2,20],"e":[2,8]},{"t":180}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":90,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 84","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"矩形 83","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[18,24,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":1,"k":[{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":0,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":15,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":30,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":45,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":60,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":75,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":90,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":105,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":119,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":134,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":149,"s":[2,20],"e":[2,8]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":162,"s":[2,8],"e":[2,10]},{"t":164}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":90,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 83","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"矩形 82","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[6,24,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":1,"k":[{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":0,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":9,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":18,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":27,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":36,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":45,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":54,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":63,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":72,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":81,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":90,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":99,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":108,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":117,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":126,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":135,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":144,"s":[2,10],"e":[2,4]},{"t":153}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":90,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 82","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"PlayingOutlined","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24,24,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[24,24],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"PlayingOutlined","np":1,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"ct":1,"bm":0}],"markers":[],"props":{}}'),eu=JSON.parse('{"v":"5.12.2","fr":30,"ip":0,"op":91,"w":48,"h":48,"nm":"PlayingOutlined-B","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"矩形 85","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[42,24,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":1,"k":[{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":0,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":9,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":18,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":27,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":36,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":45,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":54,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":63,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":72,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":81,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":90,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":99,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":108,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":117,"s":[2,12],"e":[2,6]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":126,"s":[2,6],"e":[2,12]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":135,"s":[2,12],"e":[2,6]},{"t":144}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,0.600000023842],"ix":4},"o":{"a":0,"k":60,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 85","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"矩形 84","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[30,24,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":1,"k":[{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":0,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":15,"s":[2,20],"e":[2,8]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":30,"s":[2,8],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":45,"s":[2,20],"e":[2,8]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":60,"s":[2,8],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":75,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":90,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":105,"s":[2,20],"e":[2,8]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":119,"s":[2,8],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":135,"s":[2,20],"e":[2,8]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":150,"s":[2,8],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":162,"s":[2,20],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":165,"s":[2,20],"e":[2,8]},{"t":180}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,0.600000023842],"ix":4},"o":{"a":0,"k":60,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 84","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"fl","c":{"a":0,"k":[0,0,0,0.600000023842],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":1,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"fl","c":{"a":0,"k":[0,0,0,0.600000023842],"ix":4,"x":"var $bm_rt;\\n$bm_rt = comp(\'PlayingOutlined-B\').layer(\'矩形 85\').content(\'矩形 85\').content(\'填充 1\').color;"},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 2","np":1,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"矩形 83","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[18,24,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":1,"k":[{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":0,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":15,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":30,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":45,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":60,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":75,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":90,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":105,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":119,"s":[2,20],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":134,"s":[2,10],"e":[2,20]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":149,"s":[2,20],"e":[2,8]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":162,"s":[2,8],"e":[2,10]},{"t":164}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,0.600000023842],"ix":4},"o":{"a":0,"k":60,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 83","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"fl","c":{"a":0,"k":[1,0,0,1],"ix":4},"o":{"a":0,"k":60,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":1,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"矩形 82","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[6,24,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":1,"k":[{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":0,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":9,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":18,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":27,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":36,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":45,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":54,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":63,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":72,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":81,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":90,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":99,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":108,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":117,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":126,"s":[2,10],"e":[2,4]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":135,"s":[2,4],"e":[2,10]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":144,"s":[2,10],"e":[2,4]},{"t":153}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,0.600000023842],"ix":4},"o":{"a":0,"k":60,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 82","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"fl","c":{"a":0,"k":[1,0,0,1],"ix":4},"o":{"a":0,"k":60,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":1,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"fl","c":{"a":0,"k":[1,0,0,1],"ix":4},"o":{"a":0,"k":60,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 2","np":1,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"fl","c":{"a":0,"k":[1,0,0,1],"ix":4},"o":{"a":0,"k":60,"ix":5,"x":"var $bm_rt;\\n$bm_rt = comp(\'PlayingOutlined-B\').layer(\'矩形 84\').content(\'矩形 84\').content(\'填充 1\').opacity;"},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 3","np":1,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"PlayingOutlined","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24,24,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[24,24],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"PlayingOutlined","np":1,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"ct":1,"bm":0}],"markers":[],"props":{}}'),ec={renderer:"svg",loop:!0,autoplay:!0,animationData:eo},el=function(e){var n=e.theme,t=void 0===n?"light":n,a=e.className,s=(0,i.useMemo)(function(){return(0,c._)((0,u._)({},ec),{animationData:"dark"===t?eo:eu})},[t]);return(0,r.jsx)("div",{className:(0,x.cx)("w-36 h-36",a),children:(0,r.jsx)(es.default,{options:s,style:{margin:0},width:"100%",height:"100%"})})},ed=(0,i.memo)(function(e){var n=e.isPlaying,t=e.loading,i=e.id,a=e.onSwitchAudio;return(0,r.jsx)(E.zx,{loading:t,fill:"outline",size:"mini",className:"action-button",onClick:function(){a(!n,i)},loadingIcon:(0,r.jsx)(E.wW,{className:"w-18 h-18"}),children:n?(0,r.jsx)(el,{className:"w-20 h-20"}):(0,r.jsx)(O.Z,{type:"icon-PlayOutlined",className:"!text-20"})})});t(28572);var ef=t(60578),ex=(0,i.createContext)({isSpeaking:!1}),ep=function(){var e=(0,i.useContext)(ex);if(!e)throw Error("useSpeechContext must be used within a SpeechProvider");return e},eh=function(e){var n,t=e.children,a=(0,ef.l)(),s=a.speechLoading,o=a.speechMessageId,u=a.switchSpeech,c=a.stopSpeech,d=(0,l._)((0,i.useState)(),2),f=d[0],x=d[1];return(0,g.E4)(function(e){var n=e.isPlaying,t=e.msgId;x(n?{isSpeaking:!0,msgId:t}:void 0)}),(0,r.jsx)(ex.Provider,{value:{speechLoading:s,isSpeaking:null==f?void 0:f.isSpeaking,speakingMessageId:null!=(n=null==f?void 0:f.msgId)?n:o,switchSpeech:u,stopSpeech:c},children:t})},em=i.memo(function(e){var n=e.className,t=e.hidePlayAudio,i=e.hideAgain,a=e.hideShare,s=e.question,o=e.id,u=e.content,c=e.files,l=e.chatOption,d=e.onAgainGenerate,f=(e.isPlaying,e.onSwitchAudio),p=e.onShare,h=ep(),m=h.isSpeaking,y=h.speakingMessageId,v=h.speechLoading,g=y===o;return(0,r.jsxs)("div",{className:(0,x.cx)("flex items-center flex-nowrap space-x-8 text-black/45",n),children:[!t&&(0,r.jsx)(ed,{id:o,isPlaying:m&&g,loading:v&&g,onSwitchAudio:f}),!i&&(0,r.jsx)(er,{onAgainGenerate:d,chatOption:l,question:s,files:c}),(0,r.jsx)(ei,{content:u}),!a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.iz,{direction:"vertical",className:"!mx-0"}),(0,r.jsx)(ea,{onShare:p})]})]})}),ey=function(e){var n;return null==e||null==(n=e.dataSource)?void 0:n.cardItems.filter(function(e){return"2002"===e.type||"2003"===e.type||"3002"===e.type}).reduce(function(n,t){var r=t.content;if("string"==typeof r&&(0,x.Vx)(r)&&(r=JSON.parse(r)),(null==e?void 0:e.cardType)==="DB-CARD-3"){var i=r.reduce(function(e,n){var t=(null!=n?n:{}).searchList;return(0,en._)(e).concat((0,en._)(t))},[]);return(0,en._)(n).concat((0,en._)(i))}return(0,en._)(n).concat((0,en._)(r))},[])},ev=i.memo(function(e){var n,t=e.messageId,a=e.status,s=e.uuid,o=e.question,u=e.aiMessage,c=e.userMessage,l=e.isLastMessage,d=e.content,f=e.isMessageEmpty,p=e.onSwitchAudio,h=e.onDeleteCompleted,m=e.onAgainGenerate,y=e.onShare,g=e.onLongPress,k="success"===a,b=(0,i.useRef)(),w=(0,i.useMemo)(function(){return null==c?void 0:c.content},[c]),_=(0,i.useMemo)(function(){return ey(null==u?void 0:u.networkContent)},[null==u||null==(n=u.networkContent)?void 0:n.loading]),S=(0,v.dz)({role:"ai",content:d,uuid:s,isReplyCompleted:k,isLastMessage:l,messageId:t,aiMessage:u,userMessage:c}),j=(0,i.useMemo)(function(){var e=d;return d&&"updating"===a&&(e+="{{end_dot}}"),e},[d,a]),A=!k;return(0,v.TA)(b,A,function(){null==g||g(S)}),(0,r.jsxs)("div",{ref:b,className:(0,x.cx)("relative select-none",{"pb-40":l}),children:[(0,r.jsx)(et.Z,{content:j,referencesSource:_},t),k&&l&&(0,r.jsx)(em,{className:"absolute bottom-0",hideAgain:!l,hidePlayAudio:!!f,id:t,uuid:s,question:o,content:d,chatOption:null==w?void 0:w.chatOption,files:null==w?void 0:w.files,onAgainGenerate:m,onDeleteCompleted:h,onShare:y,onSwitchAudio:p})]})}),eg=t(44474),ek=function(e){var n=e.rootClassName,t=e.loading,a=e.className,s=e.items,o=void 0===s?[]:s,c=e.userMessageIds,d=e.onSwitchAudio,f=e.onDeleteCompleted,p=e.onAgainGenerate,h=e.onSuggestionSelected,m=e.onShareApp,y=e.onMove,g=e.onLongPress,k=i.useRef(null),b=i.useRef(null),w=(0,i.useRef)(),E=(0,i.useMemo)(function(){return{user:{placement:"end",variant:"borderless",typing:!0,className:"common-chat-bubble common-chat-bubble-user",classNames:{content:"common-chat-bubble-user--content",header:"common-chat-bubble-user--header"},styles:{content:N},loadingRender:function(){return(0,r.jsx)(I.Z,{})}},ai:{placement:"start",variant:"borderless",className:"common-chat-bubble common-chat-bubble-ai",loadingRender:function(){return(0,r.jsx)(I.Z,{})},classNames:{content:"common-chat-bubble-ai--content",header:"common-chat-bubble-ai--header"},styles:{content:N}},error:{placement:"start",variant:"borderless"},suggestion:{placement:"start",variant:"borderless",loadingRender:function(){return(0,r.jsx)(I.Z,{})},classNames:{content:"w-full text-16 min-h-40"},typing:!0}}},[]),T=(0,i.useRef)(!1),O=(0,l._)((0,i.useState)(0),2),M=O[0],P=O[1],R=(0,l._)((0,i.useState)(!1),2),D=R[0],q=R[1],J=(0,l._)((0,i.useState)(!1),2),B=J[0],Z=J[1],L=(0,v.P2)(function(){var e;return null==(e=k.current)?void 0:e.nativeElement},function(e){var n=e.target;Z(!(0,x.AX)(n,50))}),V=L.scrollToBottom,G=L.scrollReachEnd,F=L.getScrollReachEnd,U=(0,v.DM)(d);(0,v.$d)(function(e){q(e.visible)}),(0,v.yU)(b,(0,j.Z)(function(){F()&&(clearTimeout(w.current),w.current=setTimeout(function(){V()},100))},50));var z=(0,i.useCallback)(function(){P(function(e){return e+1})},[]),H=(0,i.useCallback)(function(e,n){null==m||m(e,n)},[]),K=(0,i.useMemo)(function(){var e,n=o.length,t=(null==(e=o[n-1])?void 0:e.message.role)==="suggestion",i=n-(t?2:1);return o.map(function(e,t){var a=e.id,s=e.message,l=e.status,d=(0,A.Z)(s,["isDeep"]),m=d.networkContent,y=d.status,v=d.deepThinking,b=d.msgId,w=d.uuid,S=d.pid,j=d.question,I=d.isMessageEmpty,N=(0,_._)(d,["networkContent","status","deepThinking","msgId","uuid","pid","question","isMessageEmpty"]),C=null!=b?b:c.get(w),E=i===t,T=(0,u._)({id:a,key:null!=C?C:a,loading:(null!=y?y:l)==="loading"&&!(null==v?void 0:v.loading)},N),O=(0,x.LV)(o,t-1,S,"up"),M=(0,x.LV)(o,t+1,w,"down"),P=(null==M?void 0:M.status)==="success";switch(s.role){case"user":var R,D=s.content;s.msgId=C;var q=(null!=(R=null==D?void 0:D.chatOption)?R:{}).searchKnowledge;(q||Array.isArray(null==D?void 0:D.files)&&(null==D?void 0:D.files.length)>0)&&(T.header=(0,r.jsx)(X.Z,{isAllKnowledge:q,data:D.files})),T.messageRender=function(e){return(0,r.jsx)(ee,{uuid:w,messageId:C,content:e,isReplyCompleted:P,userMessage:s,aiMessage:M,onLongPress:g},b)},T.onTypingComplete=function(){var e,n,t=null==(e=k.current)?void 0:e.nativeElement;t&&(null==(n=k.current)||n.nativeElement.scrollTo({top:t.scrollHeight}))};break;case"ai":(m||v)&&(T.header=(0,r.jsx)($,{status:y,networkContent:m,deepThinking:v,onTyping:z})),E&&(T.className="common-chat-bubble common-chat-bubble-ai last-message"),T.typing="success"!==l&&{step:2,interval:20},T.messageRender=function(e){return(0,r.jsx)(ev,{userMessage:O,aiMessage:s,messageId:C,uuid:w,question:j,content:e,status:y,isMessageEmpty:I,isLastMessage:E,onDeleteCompleted:f,onAgainGenerate:p,onShare:function(){return H(O,s)},onLongPress:g,onSwitchAudio:U})};break;case"suggestion":n-1!==t&&(T.className="chat-messages--suggestion-hidden"),T.messageRender=function(e){return(0,r.jsx)(eg.Z,{content:e,onSelected:h})},T.onTypingComplete=function(){var e,n,t=null==(e=k.current)?void 0:e.nativeElement;t&&(0,x.AX)(t,200)&&(null==(n=k.current)||n.nativeElement.scrollTo({top:t.scrollHeight}))}}return T})},[o]);return(0,i.useCallback)(function(){if(!T.current){T.current=!0;var e,n,t,r=Array.from(null!=(t=null==(n=k.current)||null==(e=n.nativeElement)?void 0:e.getElementsByTagName("img"))?t:[]),i=0,a=function(){++i===r.length&&Array.from(r).forEach(function(e){e.removeEventListener("load",a)})};Array.from(r).forEach(function(e){e.complete?a():e.addEventListener("load",a)})}},[]),(0,i.useEffect)(function(){k.current&&G&&window.requestAnimationFrame(function(){k.current.nativeElement.scrollTo({top:k.current.nativeElement.scrollHeight})})},[M]),(0,r.jsxs)("div",{ref:b,className:(0,x.cx)("chat-messages-wrapper",n),onTouchMove:y,children:[(0,r.jsx)(S.Z.List,{roles:E,ref:k,className:(0,x.cx)("common-chat-messages scrollbar-hidden",a),items:K}),B&&!D&&(0,r.jsx)(C.Z,{loading:t,onClick:function(){return V()}})]})},eb=t(87612),ew=function(e){return(0,r.jsxs)("svg",(0,c._)((0,u._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 75 50"},e),{children:[(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"EmptyMessage_svg__a",children:(0,r.jsx)("rect",{width:75,height:50,rx:25})})}),(0,r.jsxs)("g",{clipPath:"url(#EmptyMessage_svg__a)",style:{opacity:.800000011920929},children:[(0,r.jsx)("path",{fill:"#BEBEBE",fillRule:"evenodd",d:"m14.492 9.183-.9 9.3-.934-.09.9-9.3q.03-.312.221-.56.19-.249.484-.359l.04-.015q.537-.201 1.007.125.471.326.471.9v8.941h-.937V9.183q0-.082-.068-.128-.067-.047-.143-.018l-.04.015q-.092.034-.101.131M11.719 19.844q-.696 0-1.297.571-.516.491-.9 1.355-.772 1.738-.772 4.167 0 2.43.773 4.168.383.864.9 1.355.6.571 1.296.571v-.937q-.321 0-.65-.313-.381-.363-.69-1.056-.691-1.557-.691-3.788t.691-3.787q.309-.693.69-1.056.329-.313.65-.313z"}),(0,r.jsx)("path",{fill:"#BEBEBE",fillRule:"evenodd",d:"M13.64 33.281h1.516v.938H13.64q-.871 0-1.528-.573-.661-.576-.77-1.44-.405-3.235-.405-6.269 0-3.033.405-6.268.109-.864.77-1.44.657-.573 1.528-.573h1.516v.938H13.64q-.52 0-.912.341t-.455.85q-.398 3.177-.398 6.152t.398 6.152q.063.51.455.85.392.342.912.342M60.508 9.183l.9 9.3.934-.09-.9-9.3q-.03-.312-.221-.56-.19-.249-.484-.359l-.04-.015q-.537-.201-1.007.125-.471.326-.471.9v8.941h.937V9.183q0-.082.068-.128.067-.047.143-.018l.04.015q.092.034.101.131M63.281 19.844q.696 0 1.297.571.516.491.9 1.355.772 1.738.772 4.167 0 2.43-.773 4.168-.383.864-.9 1.355-.6.571-1.296.571v-.937q.321 0 .65-.313.381-.363.69-1.056.692-1.557.692-3.788t-.692-3.787q-.309-.693-.69-1.056-.329-.313-.65-.313z"}),(0,r.jsx)("path",{fill:"#BEBEBE",fillRule:"evenodd",d:"M61.36 33.281h-1.516v.938h1.516q.871 0 1.528-.573.661-.576.77-1.44.404-3.235.404-6.269 0-3.033-.404-6.268-.109-.864-.77-1.44-.657-.573-1.528-.573h-1.516v.938h1.516q.52 0 .912.341t.455.85q.398 3.177.398 6.152t-.398 6.152q-.063.51-.455.85-.392.342-.912.342"}),(0,r.jsx)("path",{fill:"#BEBEBE",fillRule:"evenodd",d:"M14.219 21.875v9.375c0 7.94 6.436 14.375 14.375 14.375h17.812c7.94 0 14.375-6.436 14.375-14.375v-9.375c0-7.94-6.436-14.375-14.375-14.375H28.594c-7.94 0-14.375 6.436-14.375 14.375m1.25 0v9.375q0 5.437 3.844 9.28 3.844 3.845 9.28 3.845h17.813q5.437 0 9.281-3.844t3.844-9.281v-9.375q0-5.437-3.844-9.28-3.844-3.845-9.28-3.845H28.593q-5.437 0-9.281 3.844t-3.844 9.281"}),(0,r.jsx)("path",{fill:"#BEBEBE",fillRule:"evenodd",d:"M18.906 22.812v9.063c0 5.868 4.757 10.625 10.625 10.625H45.47c5.868 0 10.625-4.757 10.625-10.625v-9.063c0-5.868-4.757-10.625-10.625-10.625H29.53c-5.868 0-10.625 4.757-10.625 10.625m8.438 3.438v-2.5q0-.108.01-.214.01-.107.032-.213.02-.105.052-.208.031-.103.072-.202t.092-.194.11-.184.128-.173.144-.159.16-.144.172-.128.184-.11.194-.092.202-.072.208-.052.213-.032.214-.01.215.01.212.032q.105.02.208.052.103.03.202.072t.194.092.185.11.172.128q.083.068.159.144t.144.16.128.172.11.184.092.194.073.202q.03.103.052.208.02.106.031.213.01.106.01.214v2.5q0 .107-.01.214t-.031.213-.052.208-.073.202q-.04.1-.092.194-.05.095-.11.184-.06.09-.128.173t-.144.159-.159.144-.172.128-.185.11-.194.092-.202.072-.208.052-.212.032-.215.01-.214-.01q-.107-.01-.213-.032-.105-.02-.208-.052-.103-.03-.202-.072t-.194-.092-.184-.11-.172-.128q-.084-.068-.16-.144t-.144-.16q-.068-.082-.128-.172t-.11-.184q-.05-.095-.092-.194-.04-.1-.072-.202t-.052-.208q-.021-.106-.032-.213t-.01-.214m15.937-2.5v2.5q0 .107.01.214t.032.213.052.208.073.202q.04.1.092.194.05.095.11.184.06.09.128.173t.144.159.16.144.171.128.185.11.194.092.202.072.208.052.212.032.215.01.214-.01q.107-.01.213-.032.105-.02.208-.052.103-.03.202-.072t.194-.092.184-.11.172-.128q.084-.068.16-.144t.144-.16q.068-.082.128-.172t.11-.184q.05-.095.092-.194.04-.1.072-.202t.052-.208q.021-.106.032-.213t.01-.214v-2.5q0-.108-.01-.214-.01-.107-.032-.213-.02-.105-.052-.208-.031-.103-.072-.202t-.092-.194-.11-.184-.128-.173-.144-.159-.16-.144-.172-.128-.184-.11-.194-.092-.202-.072-.208-.052-.213-.032-.214-.01-.215.01-.212.032q-.105.02-.208.052-.103.03-.202.072t-.194.092-.185.11-.172.128q-.083.068-.16.144-.075.076-.143.16-.068.082-.128.172t-.11.184q-.051.095-.092.194-.041.1-.073.202-.03.103-.052.208-.02.106-.031.213-.01.106-.01.214"})]})]}))},e_=t(465),eS=t(40921),ej=t(46978),eA=t(48227),eI=t(83116),eN=t(99222);t(28213);var eC=[{icon:"https://ai-search-static.dangbei.net/db-ai-search/static/app/wx_share_img.png",text:"图片分享",value:1},{icon:"https://ai-search-static.dangbei.net/db-ai-search/static/app/wx_share_session.png",text:"微信好友",value:2},{icon:"https://ai-search-static.dangbei.net/db-ai-search/static/app/wx_share_timeline.png",text:"朋友圈",value:3},{icon:"https://ai-search-static.dangbei.net/db-ai-search/static/app/wx_share_link.png",text:"链接分享",value:4}],eE=(0,i.forwardRef)(function(e,n){var t,a,s,u,c,f,x=e.filterList,p=void 0===x?[]:x,h=(a=(t=(0,l._)((0,i.useState)(!1),2))[0],s=t[1],u=(0,i.useRef)(null),c=(0,i.useRef)(null),{visible:a,awaitResolve:function(){return(0,o._)(function(){return(0,d.Jh)(this,function(e){switch(e.label){case 0:return[4,(s(!0),new Promise(function(e,n){u.current=e,c.current=n}))];case 1:return[2,e.sent()]}})})()},success:function(e){u.current&&(s(!1),u.current(e),u=null)},fail:function(){c.current&&(s(!1),c.current("手动关闭"),c=null)}}),m=h.visible,y=h.awaitResolve,v=h.success,g=h.fail,k=function(){g()},b=(0,i.useMemo)(function(){return eC.filter(function(e){return!p.includes(e.value)})},[p]),w=function(e){v(e)},_=(f=(0,o._)(function(){return(0,d.Jh)(this,function(e){switch(e.label){case 0:return[4,y()];case 1:return[2,e.sent()]}})}),function(){return f.apply(this,arguments)});return(0,i.useImperativeHandle)(n,function(){return{open:_}}),(0,r.jsxs)(E.GI,{visible:m,onMaskClick:k,maskClassName:"!bg-transparent",onClose:k,position:"bottom",children:[(0,r.jsxs)("div",{className:"px-24  pt-16  text-black/86 border-solid  border-0 border-t border-black/6",children:[(0,r.jsxs)("div",{className:"flex justify-between  text-14 leading-22 ",children:[(0,r.jsx)("div",{children:"分享至"}),(0,r.jsx)("div",{onClick:k,children:(0,r.jsx)(O.Z,{type:"icon-CloseOutlined"})})]}),(0,r.jsx)("div",{className:"flex space-x-24 mt-12",children:b.map(function(e){return(0,r.jsxs)("div",{className:"flex flex-col",onClick:function(){return w(e)},children:[(0,r.jsx)("div",{className:"w-50 h-50 rounded-16  overflow-hidden flex items-center  justify-center",children:(0,r.jsx)("img",{className:"w-full h-full rounded-16",src:e.icon,alt:""})}),(0,r.jsx)("span",{className:"text-12 leading-20 text-black/60 mt-4 text-center",children:e.text})]},e.value)})})]}),(0,r.jsx)(eN.c,{})]})}),eT=t(62484),eO=function(){var e,n,t,a,s,m,_=(0,l._)((0,i.useState)(""),2),S=_[0],j=_[1],A=(0,i.useRef)(null),I=(0,l._)((0,i.useState)(!1),2),N=I[0],C=I[1],T=(0,i.useRef)(),O=(0,f.M)(),M=(0,i.useRef)(),P=ep(),R=P.switchSpeech,D=P.stopSpeech,q=(0,v.yG)(eS.ZP.getWsId),J=(0,i.useRef)(void 0),B=(0,i.useRef)(),Z=(0,i.useRef)(),L=(0,l._)((0,i.useState)(!1),2),V=L[0],G=L[1],F=(0,l._)((0,i.useState)([]),2),U=F[0],z=F[1],H=(0,v.VP)(),K=null!=(m=null==(s=O.deviceInfo)?void 0:s.params)?m:{},W=K.conversationId,Y=K.question,Q=K.hasFile,$=K.action,X=(0,v.QB)(Q),ee=X.getChatInitFiles,en=X.originalFiles,et=(0,i.useRef)(!1),er=(0,i.useRef)({stream:!0,botCode:e_.PY.AI_SEARCH}),ei=(0,i.useRef)("新会话"),ea=(0,l._)((0,i.useState)([]),2),es=ea[0],eo=ea[1];(0,i.useEffect)(function(){en&&en.length>0&&"knowledgeQuestion"===$&&eo(en.map(function(e){return(0,c._)((0,u._)({},e),{status:eT.K.PARSE_SUCCESS,type:"knowledge"})}))},[en]),(0,g.c8)(function(){eS.ZP.removeStorage("ACTIVE_CONVERSATION_STORE_KEY")});var eu=(0,i.useCallback)((e=(0,o._)(function(e){var n,t,r,i,a,s,o,l;return(0,d.Jh)(this,function(d){switch(d.label){case 0:return n=(0,u._)({},e),[4,eS.ZP.getTtsState()];case 1:if(t=d.sent(),eS.ZP.onInterruptTts(),n.chatOption=(0,c._)((0,u._)({},n.chatOption),{autoTts:!!t}),!t)return[3,3];return[4,q.startPolling()];case 2:r=d.sent(),n.chatOption.wsId=r,d.label=3;case 3:if(er.current.conversationId)return[3,5];return s=[],O.isSwitchDeepSearch&&s.push("deep"),O.isSwitchOnlineSearch&&s.push("online"),[4,(0,h.xF)({body:{metaData:{chatModelConfig:{model:O.aiModel,options:s}}}})];case 4:l=null==(o=d.sent().data)||null==(i=o.data)?void 0:i.conversationId,O.currentConversationId.current=null==o||null==(a=o.data)?void 0:a.conversationId,et.current=!0,er.current=(0,c._)((0,u._)({},er.current),{conversationId:l}),eS.ZP.setStorage("ACTIVE_CONVERSATION_STORE_KEY",{flag:W,conversationId:l}),eS.ZP.onConversationId({conversationId:l}),n.conversationId=l,d.label=5;case 5:return[2,n]}})}),function(n){return e.apply(this,arguments)}),[]),ec=(0,i.useCallback)(function(e){if(et.current){var n;et.current=!1,(0,ej.Z)((n=(0,o._)(function(n){var t,r,i;return(0,d.Jh)(this,function(a){switch(a.label){case 0:return[4,(0,h.Y7)({body:{}})];case 1:return(null==(i=(void 0===(r=(void 0===(t=a.sent().data)?{}:t).data)?[]:r).find(function(n){return n.conversationId===e}))?void 0:i.title)&&(null==i?void 0:i.title)!=="新会话"&&(n(),ei.current=i.title,eS.ZP.onTitle({title:i.title,conversationId:e})),[2]}})}),function(e){return n.apply(this,arguments)}),{maxAttempts:10,interval:1500})}},[]),el=(0,i.useCallback)(function(){M.current.blur()},[]),ed=(0,eA.R)(er.current,{beforeSubmit:eu,onChatCompleted:ec}),ef=ed.loading,ex=ed.onChatSubmit,eh=ed.questionIdsMap,em=ed.onRemoveChatHistory,ey=ed.parsedMessages,ev=ed.setMessages,eg=ed.onCancelReply,eN=y(),eC=eN.isLoading,eO=eN.onInitialMount,eM=(0,i.useCallback)(function(e){var n,t,r={};"string"==typeof e?r.question=e:Object.assign(r,null!=e?e:{});var i=null==r||null==(n=r.files)?void 0:n.some(function(e){return"-1"===e.fileId}),a={conversationId:er.current.conversationId,question:null==r?void 0:r.question,userAction:null==(t=O.userActions)?void 0:t.join(","),model:O.aiModel,chatOption:null==r?void 0:r.chatOption,files:null==r?void 0:r.files};i&&(a.chatOption=(0,c._)((0,u._)({},a.chatOption),{searchKnowledge:i}),delete a.files),ex({role:"user",content:a,uuid:(0,p.x0)(6),status:"local"}),j("")},[O.aiModel,O.userActions]),eP=(0,v.DM)(eM),eR=(0,i.useCallback)((0,o._)(function(){var e,n,t,r,i,a,s,o,u,c,l,f,x,p,m,y;return(0,d.Jh)(this,function(d){switch(d.label){case 0:return[4,(0,h.Lq)({body:{conversationId:er.current.conversationId}})];case 1:return r=d.sent().data,O.currentConversationId.current=null==r||null==(e=r.data)?void 0:e.conversationId,(null==r||null==(t=r.data)||null==(n=t.metaData)?void 0:n.chatModelConfig)?(O.setAiModel(null==r||null==(s=r.data)||null==(a=s.metaData)||null==(i=a.chatModelConfig)?void 0:i.model),O.aiModelRef.current=null==r||null==(c=r.data)||null==(u=c.metaData)||null==(o=u.chatModelConfig)?void 0:o.model,(null==r||null==(x=r.data)||null==(f=x.metaData)||null==(l=f.chatModelConfig)?void 0:l.options.includes("deep"))?(O.setIsSwitchDeepSearch(!0),O.isSwitchDeepSearchRef.current=!0):(O.setIsSwitchDeepSearch(!1),O.isSwitchDeepSearchRef.current=!1),(null==r||null==(y=r.data)||null==(m=y.metaData)||null==(p=m.chatModelConfig)?void 0:p.options.includes("online"))?(O.setIsSwitchOnlineSearch(!0),O.isSwitchOnlineSearchRef.current=!0):(O.setIsSwitchOnlineSearch(!1),O.isSwitchOnlineSearchRef.current=!1)):O.resetModelOptions(),[2]}})}),[]);(0,i.useEffect)(function(){return J.current=setTimeout(function(){var e;eS.ZP.getStorage(e_.NO).then((e=(0,o._)(function(e){var n,t,r;return(0,d.Jh)(this,function(i){switch(i.label){case 0:if(t=(n=(null==e?void 0:e.flag)===W)?null==e?void 0:e.conversationId:W,n||eS.ZP.removeStorage("ACTIVE_CONVERSATION_STORE_KEY"),!((null==t?void 0:t.includes("local"))&&Y&&"knowledgeQuestion"!==$))return[3,2];return[4,ee()];case 1:return eM({question:Y,files:null!=(r=i.sent())?r:[]}),[2];case 2:return!t||(null==t?void 0:t.includes("local"))||(er.current.conversationId=t,eO(t,function(e,n){ev(e),ei.current=n,T.current=setTimeout(function(){C(!0)},20)}),eR()),[2]}})}),function(n){return e.apply(this,arguments)}))},0),function(){clearTimeout(J.current),clearTimeout(T.current),(null==W?void 0:W.includes("local"))||eg(),q.stopPolling()}},[]);var eD=(0,i.useCallback)((n=(0,o._)(function(e,n){var t;return(0,d.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),eS.ZP.showLoading({message:"删除中..."}),[4,(0,h.EC)({body:{msgId:e}})];case 1:if(!r.sent().data.success)return[3,3];return[4,eS.ZP.getTtsPlayStatus()];case 2:(null==(t=r.sent())?void 0:t.isPlaying)&&t.msgId===e&&D(),em(n),r.label=3;case 3:return eS.ZP.hideLoading(),[3,5];case 4:return r.sent(),eS.ZP.hideLoading(),[3,5];case 5:return[2]}})}),function(e,t){return n.apply(this,arguments)}),[]),eq=(0,i.useRef)(null),eJ=(0,i.useCallback)((t=(0,o._)(function(e,n){var t;return(0,d.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,eq.current.open()];case 1:return t=r.sent(),[4,(0,eI.qx)({questionItem:e,data:n,title:ei.current,value:t.value,conversationId:er.current.conversationId})];case 2:case 3:return r.sent(),[3,4];case 4:return[2]}})}),function(e,n){return t.apply(this,arguments)}),[]),eB=(0,i.useCallback)(function(e){clearTimeout(B.current);var n,t=(n=(0,o._)(function(){var n,i,a,s,o;return(0,d.Jh)(this,function(u){switch(u.label){case 0:if((n=e()).isReplyCompleted||(B.current=setTimeout(t,1e3)),i=[{text:(0,r.jsx)(eb.Z.Item,{icon:"icon-CopyOutlined",text:"复制"}),key:"copy"},{text:(0,r.jsx)(eb.Z.Item,{icon:"icon-ShareOutlined",text:"分享"}),key:"share",disabled:!n.isReplyCompleted},{text:(0,r.jsx)(eb.Z.Item,{className:"text-[#FF4343]",icon:"icon-DeleteOutlined",text:"删除"}),key:"delete",disabled:!n.messageId||!n.uuid}],"ai"!==n.role||(n.isLastMessage&&i.unshift({text:(0,r.jsx)(eb.Z.Item,{icon:"icon-SyncOutlined",text:"重新生成"}),key:"again",disabled:!n.isReplyCompleted}),null==(a=n.aiMessage)?void 0:a.isMessageEmpty))return[3,2];return[4,eS.ZP.getTtsPlayStatus()];case 1:o=(null==(s=u.sent())?void 0:s.isPlaying)&&s.msgId===n.messageId?"PlayingOutlined":"PlayOutlined",i.unshift({text:(0,r.jsx)(eb.Z.Item,{icon:"icon-".concat(o),text:"语音播报"}),key:"speech"}),u.label=2;case 2:return Z.current=n,z(i),[2]}})}),function(){return n.apply(this,arguments)});t(),eS.ZP.notifyDialog(!0),G(!0)},[]),eZ=(0,i.useCallback)(function(){clearTimeout(B.current),G(!1),z([])},[]),eL=(0,i.useCallback)((a=(0,o._)(function(e,n){return(0,d.Jh)(this,function(e){return R({conversationId:er.current.conversationId,msgId:n}),[2]})}),function(e,n){return a.apply(this,arguments)}),[]);(0,g.YQ)(eZ);var eV=(0,v.DM)(function(e,n){D(),eg();var t=e.trim();t&&(j(""),eP({question:t,files:(0,x.Vp)(n)}))}),eG=(0,i.useMemo)(function(){return{fileList:es}},[es]),eF=(0,v.DM)(function(){D(),eg()});return(0,i.useEffect)(function(){eS.ZP.onNotifyAnswerState(ef)},[ef]),(0,r.jsxs)(k.Z,{ref:A,className:"px-0",children:[(0,r.jsx)(b.Z,{loading:eC,description:"加载中 请稍后...",children:ey.length?(0,r.jsx)(ek,{onMove:el,className:"px-16 w-full box-border pt-16 pb-20",loading:ef,items:ey,userMessageIds:eh.current,onDeleteCompleted:em,onAgainGenerate:eP,onSuggestionSelected:eP,onShareApp:eJ,onLongPress:eB,onSwitchAudio:eL}):(0,r.jsx)("div",{className:"flex-auto flex flex-col justify-center items-center",children:N&&(0,r.jsx)(E.iE,{className:"chat-error-block",image:(0,r.jsx)(ew,{className:"w-[75px] !h-[50px] mx-auto"}),title:!1,description:"暂无内容 快去进行对话吧～"})})}),(0,r.jsx)(w.Z,{ref:M,loading:ef,value:S,onChange:j,onCancel:eF,onSubmit:eV,fileUploadOption:eG}),(0,r.jsx)(eb.Z,{destroyOnClose:!0,visible:V,actions:U,onClose:eZ,onAction:function(e){if("copy"===e.key)H(null==(n=Z.current)?void 0:n.content,!0,function(){E.FN.show({icon:"success",content:"复制成功"})});else if("delete"===e.key)eD(null==(t=Z.current)?void 0:t.messageId,null==(r=Z.current)?void 0:r.uuid);else if("share"===e.key)eJ(null==(i=Z.current)?void 0:i.userMessage,null==(a=Z.current)?void 0:a.aiMessage);else if("again"===e.key){var n,t,r,i,a,s=Z.current,o=s.aiMessage,u=s.userMessage,c=null==o?void 0:o.question,l=u.content;eP({question:c,files:l.files,chatOption:l.chatOption})}else if("speech"===e.key){var d=Z.current.aiMessage;R({conversationId:er.current.conversationId,msgId:d.msgId})}eZ()},afterClose:function(){eS.ZP.notifyDialog(!1)}}),(0,r.jsx)(eE,{ref:eq})]})};(0,a.createRoot)(document.getElementById("root")).render((0,r.jsx)(i.StrictMode,{children:(0,r.jsx)(function(){return(0,r.jsx)(s.Z,{children:(0,r.jsx)(eh,{children:(0,r.jsx)(eO,{})})})},{})}))},49932:function(e,n,t){t.d(n,{Sd:function(){return c},EC:function(){return k},Y7:function(){return x},xF:function(){return h},VA:function(){return y},ZT:function(){return v},De:function(){return o},fJ:function(){return u},_R:function(){return f},DK:function(){return d},Px:function(){return m},Lq:function(){return p},VZ:function(){return g},uo:function(){return l}});var r=t(779),i=t(82616),a=t(37443),s=t(66657),o=function(e){var n;return(null!=(n=e.client)?n:s.L).post((0,i._)((0,r._)({url:"/app/shareApi/v1/getShareId"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))},u=function(e){var n;return(null!=(n=e.client)?n:s.L).post((0,i._)((0,r._)({url:"/app/shareApi/v1/createOrUpdate"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))},c=function(e){var n;return(null!=(n=e.client)?n:s.L).post((0,i._)((0,r._)({url:"/app/messageApi/v1/tts"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))},l=function(e){var n;return(null!=(n=e.client)?n:s.L).post((0,i._)((0,r._)({responseTransformer:a.OT,url:"/app/messageApi/v1/list"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))},d=function(e){var n;return(null!=(n=e.client)?n:s.L).post((0,i._)((0,r._)({responseTransformer:a.jE,url:"/app/knowledgeApi/v1/infos"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))},f=function(e){var n;return(null!=(n=e.client)?n:s.L).post((0,i._)((0,r._)({url:"/app/conversationApi/v1/updateChatModelConfig"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))},x=function(e){var n;return(null!=(n=e.client)?n:s.L).post((0,i._)((0,r._)({url:"/app/conversationApi/v1/list"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))},p=function(e){var n;return(null!=(n=e.client)?n:s.L).post((0,i._)((0,r._)({url:"/app/conversationApi/v1/info"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))},h=function(e){var n;return(null!=(n=e.client)?n:s.L).post((0,i._)((0,r._)({url:"/app/conversationApi/v1/create"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))},m=function(e){var n;return(null!=(n=null==e?void 0:e.client)?n:s.L).post((0,r._)({url:"/app/configApi/v1/getDocSuggestQuestion"},e))},y=function(e){var n;return(null!=(n=e.client)?n:s.L).post((0,i._)((0,r._)({url:"/app/chatApi/v1/chat"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))},v=function(e){var n;return(null!=(n=e.client)?n:s.L).post((0,i._)((0,r._)({responseTransformer:a.JG,url:"/app/attachmentApi/v1/infos"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))},g=function(e){var n;return(null!=(n=null==e?void 0:e.client)?n:s.L).get((0,r._)({url:"/app/configApi/v1/config"},e))},k=function(e){var n;return(null!=(n=e.client)?n:s.L).delete((0,i._)((0,r._)({url:"/app/messageApi/v1/delete"},e),{headers:(0,r._)({"Content-Type":"application/json"},null==e?void 0:e.headers)}))}},40921:function(e,n,t){t.d(n,{Wd:function(){return j},uY:function(){return A}});var r,i,a,s,o,u=t(49674),c=t(779),l=t(82616),d=t(55526),f=t(51897);t(30955),t(32307),t(16825),t(97127),t(28572),t(44411),t(60833),t(14438),t(47874),t(28213),t(58032),t(24679),t(46575),t(81273),t(46395),t(18566),t(60515);var x=t(15030),p=t(94206),h=t(21730),m=t(54038),y=t(93327),v=t(48069),g=!(null==(o=window)?void 0:o.flutter_inappwebview),k=function(){var e,n,t=window.location.pathname;return null!=(n=null==(e=t.match(/\w+\.html/))?void 0:e[0])?n:t},b=(r=(0,u._)(function(){var e,n,t,r,i,a,s,o=arguments;return(0,f.Jh)(this,function(u){switch(u.label){case 0:for(n=Array(e=o.length),t=0;t<e;t++)n[t]=o[t];u.label=1;case 1:if(u.trys.push([1,3,,4]),void 0===(a=null==(i=window)?void 0:i.flutter_inappwebview))return[2];return s=["AIJsHandler"].concat((0,d._)(n)),[4,null==a?void 0:(r=a).callHandler.apply(r,(0,d._)(s))];case 2:return[2,u.sent()];case 3:throw Error(u.sent().message);case 4:return[2]}})}),function(){return r.apply(this,arguments)}),w={getInitHeaders:function(){return(0,u._)(function(){var e,n;return(0,f.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,8]),[4,b("getInitHeaders")];case 1:return[2,JSON.parse(null!=(e=t.sent())?e:"{}")];case 2:return t.sent(),[4,(0,v._v)(500)];case 3:t.sent(),t.label=4;case 4:return t.trys.push([4,6,,7]),[4,b("getInitHeaders")];case 5:return[2,JSON.parse(null!=(n=t.sent())?n:"{}")];case 6:return t.sent(),[2,{}];case 7:return[3,8];case 8:return[2]}})})()},closeTip:function(){return(0,u._)(function(){return(0,f.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,b("closeTip")];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}})})()},onTitle:function(e){return(0,u._)(function(){return(0,f.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,b("onTitle",JSON.stringify(e))];case 1:case 2:return n.sent(),[3,3];case 3:return[2]}})})()},onConversationId:function(e){return(0,u._)(function(){return(0,f.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,b("onConversationId",JSON.stringify(e))];case 1:case 2:return n.sent(),[3,3];case 3:return[2]}})})()},setStorage:function(e,n){return(0,u._)(function(){var t;return(0,f.Jh)(this,function(r){switch(r.label){case 0:t=k(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,b("setStorage",e,JSON.stringify((0,l._)((0,c._)({},n),{routerPath:t}),v.dK))];case 2:case 3:return r.sent(),[3,4];case 4:return[2]}})})()},getStorage:function(e){return(0,u._)(function(){var n,t;return(0,f.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,b("getStorage",e)];case 1:if(t=null!=(n=r.sent())?n:"{}",!(0,v.Vx)(t))return[2,{}];return[2,(0,m.Z)(JSON.parse(t),["routerPath"])];case 2:return r.sent(),[3,3];case 3:return[2]}})})()},removeStorage:function(e){return(0,u._)(function(){return(0,f.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,b("removeStorage",e)];case 1:case 2:return n.sent(),[3,3];case 3:return[2]}})})()},navigateTo:function(e){return(0,u._)(function(){return(0,f.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,b("navigateTo",e.url,JSON.stringify(e.params))];case 1:case 2:return n.sent(),[3,3];case 3:return[2]}})})()},navigateBack:function(e){return(0,u._)(function(){return(0,f.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,b("navigateBack",e)];case 1:case 2:return n.sent(),[3,3];case 3:return[2]}})})()},setAILLMStorage:(0,y.Z)(function(e){return w.setStorage("AILLM",e)},800),getAILLMStorage:function(){return w.getStorage("AILLM")},onRight:function(){return(0,u._)(function(){return(0,f.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,b("onRight")];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}})})()},onLeft:function(){return(0,u._)(function(){return(0,f.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,b("onLeft")];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}})})()},saveFile:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512;return(0,u._)(function(){var t,r,i;return(0,f.Jh)(this,function(a){switch(a.label){case 0:return[4,Promise.all((function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jpeg",r=1024*n,i=Math.ceil(e.length/r),a=[],s=(0,h.x0)(),o=0;o<i;o++){var u=e.slice(o*r,(o+1)*r);a.push([s,t,o,i,u])}return a})(e,n).map(function(e){return b.apply(void 0,["saveChunkFile"].concat((0,d._)(e)))}))];case 1:for(r=(t=a.sent()).length-1;r>=0;r--)if((i=JSON.parse(t[r])).complete)return[2,i.path];return[2]}})})()},showLoading:function(e){return(0,u._)(function(){return(0,f.Jh)(this,function(n){switch(n.label){case 0:return[4,b("showLoading",JSON.stringify(e))];case 1:return n.sent(),[2]}})})()},hideLoading:function(){return(0,u._)(function(){return(0,f.Jh)(this,function(e){switch(e.label){case 0:return[4,b("hideLoading")];case 1:return e.sent(),[2]}})})()},notifyDialog:function(e){return(0,u._)(function(){return(0,f.Jh)(this,function(n){switch(n.label){case 0:return[4,b("notifyDialog",e)];case 1:return n.sent(),[2]}})})()},checkPermission:(0,p.J)((i=(0,u._)(function(e){return(0,f.Jh)(this,function(n){switch(n.label){case 0:if(g)return[2,!0];return[4,b("checkPermission",e)];case 1:return[2,n.sent()]}})}),function(e){return i.apply(this,arguments)})),requestPermission:(0,p.J)((a=(0,u._)(function(e,n){return(0,f.Jh)(this,function(t){switch(t.label){case 0:if(g)return[2,!0];return[4,b("requestPermission",e,n)];case 1:return[2,t.sent()]}})}),function(e,n){return a.apply(this,arguments)})),shareUrlToWx:function(e,n,t,r,i){return(0,u._)(function(){return(0,f.Jh)(this,function(a){switch(a.label){case 0:return[4,b("shareUrlToWx",e,n,t,r,i)];case 1:return a.sent(),[2]}})})()},copyToClipboard:function(e){return(0,u._)(function(){return(0,f.Jh)(this,function(n){switch(n.label){case 0:return[4,b("copyToClipboard",e)];case 1:return n.sent(),[2]}})})()},getTtsState:function(){return(0,u._)(function(){return(0,f.Jh)(this,function(e){switch(e.label){case 0:return[4,b("getTtsState")];case 1:return[2,e.sent()]}})})()},getWsId:function(){return(0,u._)(function(){return(0,f.Jh)(this,function(e){switch(e.label){case 0:return[4,b("getWsId")];case 1:return[2,e.sent()]}})})()},onCloseWeb:function(){return(0,u._)(function(){return(0,f.Jh)(this,function(e){switch(e.label){case 0:return[4,b("onCloseWeb")];case 1:return e.sent(),[2]}})})()},getTtsPlayStatus:function(){return(0,u._)(function(){var e;return(0,f.Jh)(this,function(n){switch(n.label){case 0:return[4,b("getTtsPlayStatus")];case 1:if(e=n.sent(),!(0,v.Vx)(e))return[2];return[2,JSON.parse(e)]}})})()},onInterruptTts:function(){return(0,u._)(function(){return(0,f.Jh)(this,function(e){switch(e.label){case 0:return[4,b("onInterruptTts")];case 1:return e.sent(),[2]}})})()},vibrate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return(0,u._)(function(){return(0,f.Jh)(this,function(n){switch(n.label){case 0:return[4,b("vibrate",e)];case 1:return n.sent(),[2]}})})()},addFiles:function(e,n){return(0,u._)(function(){return(0,f.Jh)(this,function(t){switch(t.label){case 0:return[4,b("addFiles",e,n)];case 1:return[2,t.sent()]}})})()},startAsr:function(e){return(0,u._)(function(){return(0,f.Jh)(this,function(n){return[2,b("startAsr",e)]})})()},endAsr:function(){return(0,u._)(function(){var e;return(0,f.Jh)(this,function(n){switch(n.label){case 0:return[4,b("endAsr")];case 1:if(e=n.sent(),!(0,v.Vx)(e))return[2];return[2,JSON.parse(e)]}})})()},removeFile:function(e,n){return(0,u._)(function(){return(0,f.Jh)(this,function(t){switch(t.label){case 0:return[4,b("removeFile",e,n)];case 1:return t.sent(),[2]}})})()},goLogin:function(){return(0,u._)(function(){return(0,f.Jh)(this,function(e){switch(e.label){case 0:return[4,b("goLogin")];case 1:return e.sent(),[2]}})})()},onNotifyAnswerState:function(e){return(0,u._)(function(){return(0,f.Jh)(this,function(n){switch(n.label){case 0:return[4,b("onNotifyAnswerState",e)];case 1:return n.sent(),[2]}})})()}},_=void 0,S=(0,p.J)(w.getInitHeaders);(0,p.J)(w.getAILLMStorage);var j=(s=(0,u._)(function(e){var n,t;return(0,f.Jh)(this,function(r){switch(r.label){case 0:if(!(!_||e))return[3,2];return[4,S()];case 1:(n=r.sent()).params&&"string"==typeof n.params&&(n.params=JSON.parse(n.params)||{}),n.chatParams&&"string"==typeof n.chatParams&&(t=JSON.parse(n.chatParams)||{},n=(0,c._)({},(0,m.Z)(n,["chatParams"]),(0,m.Z)(t,["routerPath"]))),n.chatModels&&"string"==typeof n.chatModels&&(n.chatModels=JSON.parse(n.chatModels)||{}),_=n,r.label=2;case 2:return[2,_]}})}),function(e){return s.apply(this,arguments)}),A=new x.Z;window.flutter_call_web=function(e){var n=JSON.parse(e),t=n.type,r=n.params;return new Promise(function(e,n){A.emit(t,r,e,n)})},n.ZP=w},62371:function(e,n,t){t.d(n,{V:function(){return i}}),t(26644),t(32307),t(46395),t(18566),t(60515);var r=function(e){return"string"!=typeof e?BigInt(null!=e?e:0):BigInt(e.replace(/n$/,""))},i=function(e){var n=function(e){switch(e){case"jpg":case"png":case"jpeg":case"gif":case"bmp":case"webp":return"image";default:return"file"}};return e.map(function(e){var t,i=r(e.docSize),a=r(null!=(t=e.wordNum||e.count)?t:0);return{type:n(e.docType),fileId:e.docId,fileUrl:e.fileUrl,fileName:e.docName,fileType:e.docType,fileSize:i,wordNum:a}})}},60034:function(e,n,t){t.d(n,{L:function(){return r}});var r=function(e,n,t){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"up",a=(null!=(r=e[n])?r:{}).message;if(a&&a["up"===i?"uuid":"pid"]==t)return a}},48069:function(e,n,t){t.d(n,{A5:function(){return v},AX:function(){return x},Ab:function(){return l},CJ:function(){return g},LV:function(){return u.L},Vp:function(){return c.V},Vx:function(){return f},Xp:function(){return p},Zw:function(){return o.Z},_v:function(){return h},cw:function(){return m},cx:function(){return s.cx},dK:function(){return y},dl:function(){return k},mZ:function(){return d}});var r=t(32091);t(97127),t(31261),t(71227),t(13023),t(96692),t(24679),t(46575),t(81273),t(58032),t(59295),t(14438),t(73135),t(63107),t(89528),t(54263),t(16825),t(60833),t(73886),t(32307),t(28213),t(26644),t(44411),t(47763),t(96445),t(61211),t(30955);var i=t(73614),a=t.n(i),s=t(56944),o=t(65430),u=t(60034),c=t(62371),l=function(e,n){if("GET"===e.method)return n.query?"".concat(new URLSearchParams(n.query).toString()):"";if("POST"===e.method){var t;return null!=(t=n.body)?t:""}return""},d=function(e,n,t){return a()("".concat(e).concat(n).concat(t)).toUpperCase()},f=function(e){try{return JSON.parse(e),!0}catch(e){return!1}},x=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,t=e.scrollTop+e.clientHeight;return e.scrollHeight-t<=n},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.max(Math.floor(e/window.devicePixelRatio),0)};function h(e){return new Promise(function(n){return setTimeout(n,e)})}function m(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/^#+\s/gm,"")).replace(/\*\*(.*?)\*\*/g,"$1")).replace(/\*(.*?)\*/g,"$1")).replace(/\[(.*?)\]\((.*?)\)/g,"$1")).replace(/^>\s/gm,"")).replace(/^-\s/gm,"")).replace(/^\d+\.\s/gm,"")).replace(/```[\s\S]*?```/g,"")).replace(/`(.*?)`/g,"$1")}function y(e,n){return(void 0===n?"undefined":(0,r._)(n))==="bigint"?n.toString()+"n":n}var v=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=e;switch(void 0===e?"undefined":(0,r._)(e)){case"string":t=BigInt(e.slice(0,-1));break;case"number":t=BigInt(e);break;default:t=e}var i=BigInt(1024)*BigInt(1024),a=BigInt(1024),s=t/i,o=t%i;if(s>BigInt(0)){var u=(Number(o)/Number(i)).toFixed(n);return"".concat(s,".").concat(u.split(".")[1],"MB")}var c=t/a,l=t%a;if(c>BigInt(0)){var d=(Number(l)/Number(a)).toFixed(n);return"".concat(c,".").concat(d.split(".")[1],"KB")}return"".concat(t,"B")},g=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=e;switch(void 0===e?"undefined":(0,r._)(e)){case"string":t=BigInt(e.slice(0,-1));break;case"number":t=BigInt(e);break;default:t=e}var i=BigInt(1e4);if(t<i)return"".concat(t,"字");var a=t/i,s=Number(t%i)/1e4,o="".concat(a);if(s>0){var u=s.toFixed(n).split(".")[1];o+=".".concat(u)}return"".concat(o,"万字")};function k(){var e=navigator.userAgent;if(e.indexOf("Android")>=0){var n=e.match(/Android\s([0-9\.]+)/i);if(n&&n[1])return n[1]}return null}}},o={};function u(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={id:e,loaded:!1,exports:{}};return s[e].call(t.exports,t,t.exports,u),t.loaded=!0,t.exports}u.m=s,u.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(n,{a:n}),n},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},u.t=function(t,r){if(1&r&&(t=this(t)),8&r||"object"==typeof t&&t&&(4&r&&t.__esModule||16&r&&"function"==typeof t.then))return t;var i=Object.create(null);u.r(i);var a={};e=e||[null,n({}),n([]),n(n)];for(var s=2&r&&t;"object"==typeof s&&!~e.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach(function(e){a[e]=function(){return t[e]}});return a.default=function(){return t},u.d(i,a),i},u.d=function(e,n){for(var t in n)u.o(n,t)&&!u.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},u.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t=[],u.O=function(e,n,r,i){if(n){i=i||0;for(var a=t.length;a>0&&t[a-1][2]>i;a--)t[a]=t[a-1];t[a]=[n,r,i];return}for(var s=1/0,a=0;a<t.length;a++){for(var n=t[a][0],r=t[a][1],i=t[a][2],o=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(u.O).every(function(e){return u.O[e](n[c])})?n.splice(c--,1):(o=!1,i<s&&(s=i));if(o){t.splice(a--,1);var l=r();void 0!==l&&(e=l)}}return e},u.rv=function(){return"1.3.9"},u.j="928",r={928:0},u.O.j=function(e){return 0===r[e]},i=function(e,n){var t,i,a=n[0],s=n[1],o=n[2],c=0;if(a.some(function(e){return 0!==r[e]})){for(t in s)u.o(s,t)&&(u.m[t]=s[t]);if(o)var l=o(u)}for(e&&e(n);c<a.length;c++)i=a[c],u.o(r,i)&&r[i]&&r[i][0](),r[i]=0;return u.O(l)},(a=self.webpackChunkmobile_dangbei_ai=self.webpackChunkmobile_dangbei_ai||[]).forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a)),u.ruid="bundler=rspack@1.3.9";var c=u.O(void 0,["444","126","361","134","695","284","998","794","135"],function(){return u(61303)});u.O(c)}();